<!--
  @description       :
  @author            : ChangeMeIn@UserSettingsUnder.SFDoc
  @group             :
  @last modified on  : 12-22-2023
  @last modified by  : ChangeMeIn@UserSettingsUnder.SFDoc
-->
<template>
  <lightning-layout multiple-rows>
    <template for:each={productItems} for:item="index">
       <lightning-layout-item key={index}
          size="12"
          small-device-size="6"
          medium-device-size="4"
          large-device-size="3"
          padding="around-small" >
          <div class="product-box">
             <div class="demo-only">
                <article class="slds-tile slds-p-around_medium">
                   <div class="pro-img slds-p-around_small" onclick={handleNavigation}
                      data-type="comm__namedPage"
                      data-name="product-details"
                      data-id={index.Product2Id}
                      >
                      <template if:true={index.Product2.Product_Image__c}>
                         <img src={index.Product2.Product_Image__c} onclick={handleNavigation}
                            data-type="comm__namedPage"
                            data-name="product-details"
                            data-id={index.Product2Id}
                            alt={index.Product2.Description}>
                      </template>
                      <template if:false={index.Product2.Product_Image__c}>
                         <img src="https://canvassproperties.com/wp-content/uploads/2017/10/dummy-image.jpg" onclick={handleNavigation}
                            data-type="comm__namedPage"
                            data-name="product-details"
                            data-id={index.Product2Id}>
                      </template>
                   </div>
                   <div class="pro-desc slds-p-top_small">
                      <h3 class="slds-tile__title slds-truncate pro-title" title={index.name}
                         onclick={handleNavigation}
                         data-type="comm__namedPage"
                         data-name="product-details"
                         data-id={index.Product2Id}>{index.Product2.Name}
                      </h3>

                      <h4> {index.Product2.Description}  </h4>
                      <div class="price-box">
                        <h4>
                           <span>
                              <template if:true={index.UnitPrice}>
                                 <lightning-formatted-number value={index.UnitPrice} format-style="currency"
                                    minimum-integer-digits="3" ></lightning-formatted-number>
                              </template>
                              <template if:false={index.UnitPrice}>
                                 <lightning-formatted-number value={index.UnitPrice} format-style="currency"
                                    minimum-integer-digits="1" maximum-fraction-digits="2"
                                    minimum-fraction-digits="2"></lightning-formatted-number>
                              </template>
                           </span>
                        </h4>
                      </div>

                   </div>
                   <div class="pro-btn-box slds-p-vertical_small">
                      <lightning-button label="Add to Cart" class="slds-button my-cus-button slds-align_absolute-center"
                         icon-name="utility:cart"
                         data-pro-code={index.Product2Id} data-pro-qty="1" variant="brand"
                         onclick={addToCart}></lightning-button>
                      <lightning-button label="View Product" class="slds-button my-cus-button slds-align_absolute-center" icon-name="utility:preview"
                         variant="brand"
                         onclick={handleNavigation}
                         data-type="comm__namedPage"
                         data-id={index.Product2Id}
                         data-name="product-details" ></lightning-button>
                   </div>
                </article>
             </div>
            </div>
       </lightning-layout-item>
    </template>
 </lightning-layout>
</template>